# 异步方案 RabbitMQ 和Celery

> 思考：
>
> - 下面两行代码存在什么问题？

![img](images/26celery问题分析.png)

> 问题：
>
> - 我们的代码是自上而下同步执行的。
> - 发送短信是耗时的操作。如果短信被阻塞住，用户响应将会延迟。
> - 响应延迟会造成用户界面的倒计时延迟。

![img](images/35发送短信代码同步执行.png)

> 解决：
>
> - 异步发送短信
> - 发送短信和响应分开执行，将**发送短信**从主业务中**解耦**出来。

![img](images/36发送短信解耦.png)